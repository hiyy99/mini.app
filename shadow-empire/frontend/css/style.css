*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0a0f;--card:#14141f;--card2:#1a1a2e;--red:#e74c3c;--green:#2ecc71;--gold:#f39c12;--blue:#3498db;--purple:#9b59b6;--text:#ecf0f1;--text2:#7f8c8d;--muted:#555;--border:#1e1e30}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden;-webkit-tap-highlight-color:transparent;padding-bottom:70px}

/* Loading */
#loading-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;transition:opacity .5s}
#loading-screen.fade-out{opacity:0;pointer-events:none}
.loading-title{font-size:2rem;font-weight:900;letter-spacing:3px;margin-bottom:8px;background:linear-gradient(135deg,var(--gold),var(--red));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.loading-sub{color:var(--text2);margin-bottom:24px;font-size:.9rem}
.loading-bar{width:200px;height:4px;background:var(--border);border-radius:2px;overflow:hidden}
.loading-fill{width:0%;height:100%;background:linear-gradient(90deg,var(--gold),var(--red));border-radius:2px;animation:loadAnim 1.5s ease forwards}
@keyframes loadAnim{0%{width:0}50%{width:70%}100%{width:100%}}

/* Popup */
.popup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:900;animation:fadeIn .3s}
.popup.hidden{display:none}
.popup-content{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:28px 20px;text-align:center;max-width:320px;width:90%}
.popup-icon{font-size:3rem;margin-bottom:10px}
.popup-title{font-size:1.1rem;font-weight:600;margin-bottom:6px}
.popup-body{font-size:.85rem;color:var(--text2);margin-bottom:8px}
.popup-amount{font-size:1.6rem;font-weight:900;color:var(--green);margin-bottom:10px}
.popup-amount.fail{color:var(--red)}
.popup-warning{color:var(--red);font-size:.8rem;margin-bottom:12px}
.popup-warning.hidden{display:none}

/* Buttons */
.btn{padding:12px 32px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}
.btn-primary{background:linear-gradient(135deg,var(--gold),var(--red));color:#fff}
.btn-primary:active{transform:scale(.95)}
.btn-buy{background:var(--green);color:#fff;padding:8px 14px;font-size:.8rem;border-radius:8px;border:none;cursor:pointer;font-weight:600;white-space:nowrap}
.btn-buy:disabled{background:var(--muted);cursor:not-allowed;opacity:.5}
.btn-buy.shadow-btn{background:var(--purple)}
.btn-buy.shadow-btn:disabled{background:var(--muted)}
.btn-robbery{background:linear-gradient(135deg,var(--red),#c0392b);color:#fff;padding:10px 20px;font-size:.9rem;border-radius:10px;border:none;cursor:pointer;font-weight:600;width:100%}
.btn-robbery:disabled{background:var(--muted);cursor:not-allowed;opacity:.5}
.btn-manager{background:var(--blue);color:#fff;padding:5px 10px;font-size:.7rem;border-radius:6px;border:none;cursor:pointer;font-weight:600}
.btn-manager:disabled{background:var(--muted);opacity:.5;cursor:not-allowed}

/* Top Bar */
.top-bar{background:var(--card);padding:14px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100}
.cash-display{font-size:1.3rem;font-weight:900;color:var(--green)}
.income-display{font-size:.85rem;color:var(--gold);font-weight:600}

/* Suspicion */
.suspicion-bar{padding:8px 16px;background:var(--card);border-bottom:1px solid var(--border)}
.suspicion-label{display:flex;justify-content:space-between;font-size:.75rem;margin-bottom:4px;color:var(--text2)}
.suspicion-track{height:6px;background:var(--border);border-radius:3px;overflow:hidden}
.suspicion-fill{height:100%;width:0%;border-radius:3px;transition:width .5s,background .5s;background:var(--green)}

/* Reputation */
.reputation-bar{display:flex;gap:6px;padding:8px 16px;background:var(--card);border-bottom:1px solid var(--border)}
.rep-item{flex:1;text-align:center;font-size:.7rem;padding:5px;border-radius:8px;background:var(--bg)}
.rep-item span:first-child{display:block;color:var(--text2);margin-bottom:2px}
.rep-item span:last-child{font-weight:700;font-size:.95rem}
.rep-fear span:last-child{color:var(--red)}
.rep-respect span:last-child{color:var(--blue)}
.rep-level span:last-child{color:var(--gold)}

/* Tab content */
.tab-content-area{padding-bottom:10px}
.tab-content{display:none;padding:12px}
.tab-content.active{display:block}
.tab-header{margin-bottom:12px}
.tab-header h2{font-size:1.05rem;margin-bottom:3px}
.tab-header p{font-size:.75rem;color:var(--text2)}
.hidden{display:none!important}

/* Sub tabs */
.sub-tabs{display:flex;gap:6px;margin-bottom:12px}
.sub-tab{flex:1;padding:8px;background:var(--card);border:1px solid var(--border);border-radius:8px;color:var(--text2);font-size:.8rem;font-weight:600;cursor:pointer;text-align:center}
.sub-tab.active{color:var(--text);border-color:var(--gold);background:var(--card2)}

/* Business Cards */
.business-list{display:flex;flex-direction:column;gap:8px}
.business-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;display:flex;align-items:center;gap:10px}
.business-card.locked{opacity:.4}
.business-emoji{font-size:1.8rem;width:42px;height:42px;display:flex;align-items:center;justify-content:center;background:var(--bg);border-radius:10px;flex-shrink:0}
.business-info{flex:1;min-width:0}
.business-name{font-weight:700;font-size:.9rem;margin-bottom:2px}
.business-stats{font-size:.7rem;color:var(--text2);display:flex;gap:6px;flex-wrap:wrap}
.business-level{color:var(--gold);font-weight:600}
.business-income{color:var(--green)}
.business-suspicion-up{color:var(--red)}
.business-suspicion-down{color:var(--blue)}
.business-actions{display:flex;flex-direction:column;gap:3px;align-items:flex-end;flex-shrink:0}
.business-cost{font-size:.65rem;color:var(--text2)}
.manager-badge{font-size:.65rem;color:var(--blue);font-weight:600}
.locked-text{font-size:.7rem;color:var(--muted);font-style:italic}

/* Robbery */
.robbery-list{display:flex;flex-direction:column;gap:10px}
.robbery-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px}
.robbery-card.locked{opacity:.4}
.robbery-header{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.robbery-emoji{font-size:1.8rem}
.robbery-name{font-weight:700;font-size:.95rem}
.robbery-stats{font-size:.75rem;color:var(--text2);display:flex;gap:10px;margin-bottom:10px}
.robbery-reward{color:var(--green)}.robbery-chance{color:var(--gold)}.robbery-heat{color:var(--red)}
.cooldown-text{text-align:center;color:var(--text2);font-size:.85rem;padding:8px;font-weight:600}

/* Casino Menu */
.casino-menu-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.casino-menu-card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:20px 12px;text-align:center;cursor:pointer;transition:all .2s}
.casino-menu-card:active{transform:scale(.96);background:var(--card2)}
.casino-menu-emoji{font-size:2.5rem;margin-bottom:8px}
.casino-menu-name{font-weight:700;font-size:1rem;margin-bottom:4px}
.casino-menu-desc{font-size:.7rem;color:var(--text2)}
.casino-back-btn{background:none;border:none;color:var(--gold);font-size:.9rem;font-weight:600;cursor:pointer;padding:8px 0;margin-bottom:10px}
.casino-back-btn:active{opacity:.7}
.casino-game-inner{animation:fadeIn .3s}
.casino-game-title{font-size:1.2rem;font-weight:700;text-align:center;margin-bottom:14px}
.casino-game-title .casino-multi{margin-left:6px}

/* Casino shared */
.casino-bet-row{display:flex;align-items:center;gap:6px;margin-bottom:10px}
.bet-input{flex:1;background:var(--bg);border:1px solid var(--border);border-radius:8px;color:var(--text);padding:10px;font-size:1.1rem;text-align:center;font-weight:700}
.bet-adj{width:44px;height:42px;background:var(--card2);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:1.3rem;font-weight:700;cursor:pointer}
.bet-adj:active{background:var(--border)}
.casino-quick-bets{display:flex;gap:6px;margin-bottom:14px}
.qbet{flex:1;padding:8px;background:var(--bg);border:1px solid var(--border);border-radius:8px;color:var(--gold);font-size:.75rem;font-weight:700;cursor:pointer;text-align:center}
.qbet:active{background:var(--card2)}
.casino-buttons{display:flex;gap:6px}
.btn-casino{flex:1;padding:12px;border:none;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;background:var(--card2);color:var(--text);border:1px solid var(--border);transition:all .2s}
.btn-casino:active{transform:scale(.96)}
.btn-casino.heads{background:#2c3e50}.btn-casino.tails{background:#34495e}
.btn-casino.red{background:#c0392b}.btn-casino.black{background:#2c3e50}
.btn-casino.gold{background:var(--gold);color:#000}
.btn-casino.spin{background:linear-gradient(135deg,var(--purple),var(--red));color:#fff;font-size:1.1rem;padding:14px;width:100%;border-radius:12px}
.casino-multi{color:var(--gold);font-weight:700;font-size:.8rem}

/* Casino play area */
.casino-play-area{text-align:center;padding:20px 0;margin-bottom:10px}
.coinflip-anim{font-size:4rem;transition:transform .5s}
.coinflip-anim.flip{animation:coinFlip .6s ease}
@keyframes coinFlip{0%{transform:rotateY(0)}50%{transform:rotateY(900deg) scale(1.3)}100%{transform:rotateY(1800deg)}}
.dice-display{font-size:3rem;letter-spacing:20px;margin-bottom:8px}
.dice-total{font-size:1.5rem;font-weight:900;color:var(--gold)}
.roulette-display{font-size:3.5rem;margin-bottom:8px}
.roulette-display.spin{animation:rouletteSpin 1s ease-out}
@keyframes rouletteSpin{0%{transform:rotate(0)}100%{transform:rotate(720deg)}}

/* Slots */
.slot-display{font-size:2.8rem;text-align:center;padding:20px;background:var(--bg);border-radius:12px;margin-bottom:12px;letter-spacing:14px;min-height:80px;display:flex;align-items:center;justify-content:center}
.slot-display.spinning{animation:slotSpin .08s infinite}
@keyframes slotSpin{0%{opacity:1}50%{opacity:.4}100%{opacity:1}}
.slots-paytable{background:var(--bg);border-radius:10px;padding:10px;margin-top:12px;font-size:.7rem;color:var(--text2);text-align:center}
.paytable-title{font-weight:600;color:var(--gold);margin-bottom:4px}
.paytable-row{margin-bottom:2px}
.roulette-result{text-align:center;margin-top:10px;font-size:1.1rem;font-weight:700;min-height:28px}

/* ═══════ Character Card ═══════ */
.char-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:16px}
.char-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;padding-bottom:10px;border-bottom:1px solid var(--border)}
.char-card-name{font-size:1.1rem;font-weight:800}
.char-card-level{font-size:.85rem;color:var(--gold);font-weight:700}

.char-equipment{display:flex;flex-direction:column;gap:8px;margin-bottom:14px}
.char-eq-row{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.char-eq-row:last-child{border-bottom:none}
.char-eq-label{font-size:.75rem;color:var(--text2);font-weight:600}
.char-eq-value{font-size:.85rem;font-weight:700}
.char-eq-value.empty{color:var(--muted);font-style:italic;font-weight:400}

.char-bonuses{background:var(--bg);border-radius:10px;padding:10px}
.char-bonus-title{font-size:.7rem;color:var(--text2);margin-bottom:6px;font-weight:600}
.char-bonus-tag{display:inline-block;padding:4px 10px;border-radius:6px;font-size:.72rem;font-weight:600;margin:2px 4px 2px 0}
.char-bonus-tag.fear{background:rgba(231,76,60,.15);color:var(--red)}
.char-bonus-tag.respect{background:rgba(52,152,219,.15);color:var(--blue)}
.char-bonus-tag.income{background:rgba(46,204,113,.15);color:var(--green)}
.char-bonus-tag.suspicion{background:rgba(155,89,182,.15);color:var(--purple)}
.char-bonus-tag.empty-tag{color:var(--muted);background:none}

/* ═══════ Inventory ═══════ */
.inv-section{margin-top:16px}
.inv-section h3{font-size:.95rem;margin-bottom:10px}

.inv-cases-row{display:flex;gap:8px;overflow-x:auto;padding-bottom:8px;margin-bottom:12px}
.inv-case-card{background:var(--card);border:2px solid var(--border);border-radius:12px;padding:12px;min-width:110px;text-align:center;cursor:pointer;transition:all .2s;flex-shrink:0}
.inv-case-card:active{transform:scale(.95)}
.inv-case-emoji{font-size:2rem;margin-bottom:4px}
.inv-case-name{font-size:.72rem;font-weight:600;margin-bottom:4px;white-space:nowrap}
.inv-case-action{font-size:.68rem;color:var(--gold);font-weight:700;text-transform:uppercase}

.inv-list{display:flex;flex-direction:column;gap:8px}
.inv-item{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;align-items:center;justify-content:space-between;gap:10px}
.inv-item-left{display:flex;align-items:center;gap:10px;flex:1;min-width:0}
.inv-item-emoji{font-size:1.5rem;width:36px;text-align:center;flex-shrink:0}
.inv-item-info{flex:1;min-width:0}
.inv-item-name{font-weight:700;font-size:.85rem}
.inv-item-rarity{font-size:.65rem;font-weight:600;margin-top:1px}
.inv-item-desc{font-size:.68rem;color:var(--text2);margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.inv-item-bonus{font-size:.68rem;color:var(--gold);margin-top:2px}
.inv-item-actions{display:flex;flex-direction:column;gap:4px;align-items:flex-end;flex-shrink:0}
.inv-equipped-badge{font-size:.7rem;color:var(--gold);font-weight:700;padding:4px 10px;background:rgba(243,156,18,.15);border-radius:6px}
.inv-market-badge{font-size:.7rem;color:var(--purple);font-weight:700;padding:4px 10px;background:rgba(155,89,182,.15);border-radius:6px}
.inv-empty{color:var(--text2);font-size:.8rem;text-align:center;padding:16px}

.btn-sell-small{padding:4px 10px;border:none;border-radius:6px;font-size:.68rem;font-weight:600;cursor:pointer;background:var(--purple);color:#fff}
.btn-sell-small:active{transform:scale(.95)}

/* ═══════ Shop Items (with rarity) ═══════ */
.shop-section{margin-top:8px}
.shop-section h3{margin-bottom:10px;font-size:.95rem}
.shop-tabs{display:flex;gap:4px;margin-bottom:10px;overflow-x:auto}
.shop-tab{padding:7px 12px;background:var(--card);border:1px solid var(--border);border-radius:8px;color:var(--text2);font-size:.7rem;font-weight:600;cursor:pointer;white-space:nowrap}
.shop-tab.active{color:var(--text);border-color:var(--gold)}
.shop-list{display:flex;flex-direction:column;gap:8px}
.shop-item{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;align-items:center;gap:10px}
.shop-item-emoji{font-size:1.5rem;width:36px;text-align:center}
.shop-item-info{flex:1;min-width:0}
.shop-item-name{font-weight:700;font-size:.85rem}
.shop-item-rarity{font-size:.65rem;font-weight:600;margin-top:1px}
.shop-item-desc{font-size:.68rem;color:var(--text2);margin-top:2px}
.shop-item-bonus{font-size:.7rem;color:var(--text2)}
.shop-item-actions{text-align:right;flex-shrink:0}
.btn-shop{padding:6px 12px;border:none;border-radius:6px;font-size:.75rem;font-weight:600;cursor:pointer;background:var(--green);color:#fff}
.btn-shop:disabled{background:var(--muted);opacity:.5;cursor:not-allowed}
.btn-shop.equipped{background:var(--gold);color:#000}
.btn-shop.owned{background:var(--blue)}

/* ═══════ Cases Grid ═══════ */
.cases-grid{display:flex;flex-direction:column;gap:10px}
.case-card{background:var(--card);border:2px solid var(--border);border-radius:14px;padding:14px;transition:all .2s}
.case-card-top{display:flex;gap:12px;margin-bottom:12px;align-items:flex-start}
.case-emoji{font-size:2.5rem;flex-shrink:0}
.case-info{flex:1;min-width:0}
.case-name{font-size:1rem;font-weight:800;margin-bottom:3px}
.case-desc{font-size:.72rem;color:var(--text2);margin-bottom:6px}
.case-loot-tags{display:flex;flex-wrap:wrap;gap:4px}
.case-loot-tag{font-size:.65rem;font-weight:600}
.btn-case-buy{width:100%;padding:12px;border:none;border-radius:10px;font-size:.9rem;font-weight:700;cursor:pointer;color:#fff;transition:all .2s}
.btn-case-buy:disabled{opacity:.4;cursor:not-allowed}
.btn-case-buy:active{transform:scale(.97)}

/* ═══════ Case Open Overlay (CS:GO Roulette) ═══════ */
.case-open-popup{min-height:280px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:12px 0;overflow:hidden;background:transparent;border:none;max-width:95%}

/* Roulette container */
.case-roulette{position:relative;width:100%;max-width:340px;overflow:hidden}
.case-roulette-viewport{overflow:hidden;position:relative;height:100px;border-radius:10px;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.08)}
.case-roulette-strip{display:flex;gap:0;will-change:transform;transition:none}
.case-roulette-pointer{position:absolute;top:0;bottom:0;left:50%;transform:translateX(-50%);width:3px;background:var(--gold,#f5c542);z-index:10;box-shadow:0 0 8px rgba(245,197,66,.6)}
.case-roulette-pointer::before,.case-roulette-pointer::after{content:'';position:absolute;left:50%;transform:translateX(-50%);width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent}
.case-roulette-pointer::before{top:-1px;border-top:8px solid var(--gold,#f5c542)}
.case-roulette-pointer::after{bottom:-1px;border-bottom:8px solid var(--gold,#f5c542)}

/* Individual roulette item */
.case-roulette-item{flex-shrink:0;width:90px;height:100px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;border-right:1px solid rgba(255,255,255,.06);position:relative;overflow:hidden}
.case-roulette-item::before{content:'';position:absolute;bottom:0;left:0;right:0;height:3px}
.case-roulette-item .ri-emoji{font-size:2rem}
.case-roulette-item .ri-name{font-size:.55rem;font-weight:700;text-align:center;line-height:1.1;max-width:80px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

/* Result */
.case-open-result{text-align:center}
.case-open-result.case-result-appear{animation:caseReveal .5s ease-out}
@keyframes caseReveal{
    0%{transform:scale(0);opacity:0}
    60%{transform:scale(1.15)}
    100%{transform:scale(1);opacity:1}
}
.case-won-emoji{font-size:3.5rem;margin-bottom:8px}
.case-won-name{font-size:1.2rem;font-weight:800;margin-bottom:4px}
.case-won-rarity{font-size:.85rem;font-weight:700;margin-bottom:6px}
.case-won-desc{font-size:.75rem;color:var(--text2)}

/* ═══════ Market section inside shop ═══════ */
#shop-market-section h3{font-size:.9rem;color:var(--text2)}

/* Gang & PvP */
.gang-info{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px;margin-bottom:12px}
.gang-name{font-size:1.1rem;font-weight:700;margin-bottom:6px}
.gang-stats{font-size:.8rem;color:var(--text2)}
.gang-create{margin-bottom:16px}
.gang-input{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:8px;color:var(--text);padding:10px;font-size:.9rem;margin-bottom:8px}
.gang-list{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}
.gang-card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;align-items:center;justify-content:space-between}
.pvp-section{margin-top:16px;padding-top:16px;border-top:1px solid var(--border)}
.pvp-section h3{margin-bottom:10px;font-size:.95rem}
.pvp-target{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.pvp-target-info{font-size:.85rem}
.btn-attack{padding:8px 16px;background:var(--red);color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.8rem;cursor:pointer}
.btn-attack:active{transform:scale(.95)}

/* Referral */
.referral-section{margin-top:16px;padding-top:16px;border-top:1px solid var(--border)}
.referral-section h3{margin-bottom:8px;font-size:.95rem;text-align:center}
.ref-info{font-size:.8rem;color:var(--text2);margin-bottom:10px;text-align:center}
.ref-link-box{background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:10px 12px;text-align:center;font-size:.72rem;color:var(--gold);word-break:break-all;cursor:pointer;transition:background .2s}
.ref-link-box:active{background:rgba(245,197,66,.1)}
.ref-buttons{display:flex;gap:8px;margin-top:10px}
.ref-buttons .btn{flex:1;font-size:.85rem;padding:10px 0}
#ref-count{font-size:.8rem;color:var(--text2);text-align:center;margin-top:8px}

/* Bottom Nav */
.bottom-nav{position:fixed;bottom:0;left:0;width:100%;display:flex;background:var(--card);border-top:1px solid var(--border);z-index:100;padding-bottom:env(safe-area-inset-bottom,0)}
.nav-btn{flex:1;padding:8px 0 6px;border:none;background:none;color:var(--text2);font-size:.6rem;font-weight:600;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:2px;transition:color .2s}
.nav-btn span{font-size:1.1rem}
.nav-btn.active{color:var(--gold)}

/* Animations */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.cash-pulse{animation:pulse .3s}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}

/* ═══════ Daily Missions ═══════ */
.missions-list{display:flex;flex-direction:column;gap:8px}
.mission-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;transition:opacity .3s}
.mission-card.mission-claimed{opacity:.5}
.mission-card.mission-done{border-color:var(--green)}
.mission-header{display:flex;align-items:center;gap:10px;margin-bottom:8px}
.mission-emoji{font-size:1.6rem;width:36px;text-align:center;flex-shrink:0}
.mission-info{flex:1;min-width:0}
.mission-name{font-weight:700;font-size:.85rem;margin-bottom:2px}
.mission-progress-text{font-size:.7rem;color:var(--text2)}
.mission-reward{font-size:.85rem;font-weight:700;color:var(--green);flex-shrink:0}
.mission-progress-bar{height:6px;background:var(--border);border-radius:3px;overflow:hidden;margin-bottom:8px}
.mission-progress-fill{height:100%;background:linear-gradient(90deg,var(--gold),var(--green));border-radius:3px;transition:width .4s ease}
.mission-status{text-align:center;font-size:.75rem;color:var(--text2);font-weight:600;padding:4px 0}

/* ═══════ Login Overlay ═══════ */
.login-popup-content{max-width:340px}
.login-popup-title{font-size:1.2rem;font-weight:800;margin-bottom:14px;text-align:center}
.login-days{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-bottom:16px}
.login-day{background:var(--bg);border:1px solid var(--border);border-radius:10px;padding:8px 4px;text-align:center;transition:all .3s}
.login-day-current{border-color:var(--gold);background:rgba(243,156,18,.1);box-shadow:0 0 8px rgba(243,156,18,.3)}
.login-day-past{opacity:.4}
.login-day-num{font-size:.6rem;color:var(--text2);margin-bottom:4px;font-weight:600}
.login-day-reward{font-size:.7rem;font-weight:700;color:var(--gold)}

/* ═══════ Prestige ═══════ */
.prestige-section{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;margin-bottom:16px}
.prestige-section h3{font-size:.95rem;margin-bottom:10px}
.prestige-card{display:flex;flex-direction:column;gap:10px}
.prestige-stats{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.prestige-stat{background:var(--bg);border-radius:8px;padding:8px 10px;text-align:center}
.prestige-stat span{display:block;font-size:.65rem;color:var(--text2);margin-bottom:4px}
.prestige-stat strong{font-size:.95rem}
.prestige-next{text-align:center;font-size:.8rem;color:var(--text2);padding:4px 0}
.btn-prestige{width:100%;padding:12px;border:none;border-radius:10px;font-size:.95rem;font-weight:700;cursor:pointer;color:#fff;background:linear-gradient(135deg,var(--purple),var(--gold));transition:all .2s}
.btn-prestige:active{transform:scale(.96)}
.btn-prestige.disabled{background:var(--muted);cursor:not-allowed;opacity:.5}
.prestige-warning{font-size:.68rem;color:var(--red);text-align:center;opacity:.8;margin-top:2px}

/* ═══════ Territories ═══════ */
.territory-bonus-info{margin-bottom:12px}
.territory-bonus-badge{background:rgba(46,204,113,.1);border:1px solid rgba(46,204,113,.3);border-radius:10px;padding:10px;text-align:center;font-size:.85rem;color:var(--green)}
.territory-bonus-badge strong{color:var(--gold)}
.territories-list{display:flex;flex-direction:column;gap:8px}
.territory-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;display:flex;align-items:center;gap:10px}
.territory-card.territory-owned{border-color:var(--green);background:rgba(46,204,113,.05)}
.territory-header{display:flex;align-items:center;gap:10px;flex:1;min-width:0}
.territory-emoji{font-size:1.6rem;width:36px;text-align:center;flex-shrink:0}
.territory-info{flex:1;min-width:0}
.territory-name{font-weight:700;font-size:.88rem;margin-bottom:2px}
.territory-bonus{font-size:.7rem;color:var(--gold);font-weight:600}
.territory-owner{font-size:.68rem;color:var(--text2);margin-top:2px}
.territory-status{font-size:.72rem;font-weight:600;color:var(--green);flex-shrink:0;text-align:right}

/* ═══════ Achievements ═══════ */
.achievements-list{display:flex;flex-direction:column;gap:8px}
.achievement-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;transition:all .3s}
.achievement-card.achievement-locked{opacity:.4;filter:grayscale(.6)}
.achievement-card.achievement-unlocked{border-color:var(--gold)}
.achievement-card.achievement-claimed{opacity:.6;border-color:var(--border)}
.achievement-header{display:flex;align-items:center;gap:10px;margin-bottom:6px}
.achievement-emoji{font-size:1.6rem;width:36px;text-align:center;flex-shrink:0}
.achievement-info{flex:1;min-width:0}
.achievement-name{font-weight:700;font-size:.85rem;margin-bottom:2px}
.achievement-desc{font-size:.7rem;color:var(--text2)}
.achievement-reward{font-size:.85rem;font-weight:700;color:var(--green);flex-shrink:0}
.achievement-status{text-align:center;font-size:.75rem;color:var(--text2);font-weight:600;padding:4px 0}

/* ═══════ Leaderboard ═══════ */
.leaderboard-list{display:flex;flex-direction:column;gap:6px}
.lb-row{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;align-items:center;gap:10px}
.lb-row.lb-me{border-color:var(--gold);background:rgba(243,156,18,.08)}
.lb-rank{font-size:1.2rem;width:30px;text-align:center;flex-shrink:0;font-weight:700}
.lb-info{flex:1;min-width:0}
.lb-name{font-weight:700;font-size:.88rem;margin-bottom:2px}
.lb-stats{font-size:.68rem;color:var(--text2)}
.lb-cash{font-size:.9rem;font-weight:700;color:var(--green);flex-shrink:0}

/* Scrollbar */
::-webkit-scrollbar{width:3px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}

/* ═══════ VIP Badge ═══════ */
.vip-badge{font-size:1rem;margin-right:4px;animation:vipGlow 2s infinite}
@keyframes vipGlow{0%,100%{filter:brightness(1)}50%{filter:brightness(1.5)}}
.char-vip-badge{color:var(--gold);font-size:1rem}
.ad-boost-indicator{background:var(--gold);color:#000;font-size:.65rem;font-weight:800;padding:2px 6px;border-radius:4px;margin-right:4px;animation:pulse .5s infinite}

/* ═══════ Ad Reward Button ═══════ */
.ad-reward-btn{display:flex;align-items:center;gap:8px;background:linear-gradient(135deg,#2d2d44,#1a1a2e);border:1px solid var(--gold);border-radius:10px;padding:10px 14px;margin-bottom:10px;cursor:pointer;transition:all .2s}
.ad-reward-btn:active{transform:scale(.97);opacity:.8}
.ad-reward-icon{font-size:1.2rem}
.ad-reward-text{font-size:.8rem;font-weight:600;color:var(--gold)}

/* ═══════ VIP Shop ═══════ */
.vip-status-card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;margin-bottom:14px}
.vip-status-card.vip-active{border-color:var(--gold);background:linear-gradient(135deg,rgba(243,156,18,.08),rgba(231,76,60,.05))}
.vip-status-header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
.vip-status-icon{font-size:2.5rem}
.vip-status-title{font-size:1.1rem;font-weight:800}
.vip-status-days{font-size:.8rem;color:var(--gold);font-weight:600;margin-top:2px}
.vip-benefits{display:flex;flex-wrap:wrap;gap:6px}
.vip-benefit{padding:4px 10px;background:rgba(243,156,18,.1);border:1px solid rgba(243,156,18,.2);border-radius:6px;font-size:.7rem;font-weight:600;color:var(--gold)}

.vip-daily-case{margin-bottom:14px}
.btn-vip-daily{width:100%;padding:12px;border:none;border-radius:10px;font-size:.9rem;font-weight:700;cursor:pointer;color:#fff;background:linear-gradient(135deg,var(--gold),var(--red));transition:all .2s}
.btn-vip-daily:active{transform:scale(.97)}
.btn-vip-daily.disabled{background:var(--muted);cursor:not-allowed;opacity:.5}

.vip-section-title{font-size:.95rem;margin:16px 0 10px;color:var(--text)}
.vip-packages{display:flex;flex-direction:column;gap:8px}
.vip-package-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;display:flex;align-items:center;justify-content:space-between}
.vip-package-info{flex:1;min-width:0}
.vip-package-name{font-weight:700;font-size:.88rem;margin-bottom:2px}
.vip-package-stars{font-size:.72rem;color:var(--text2)}
.vip-package-actions{display:flex;gap:6px;flex-shrink:0}

.btn-stars{padding:8px 14px;border:none;border-radius:8px;font-size:.75rem;font-weight:700;cursor:pointer;background:linear-gradient(135deg,#FFD700,#FFA500);color:#000;transition:all .2s}
.btn-stars:active{transform:scale(.95)}
.btn-ton{padding:8px 14px;border:none;border-radius:8px;font-size:.75rem;font-weight:700;cursor:pointer;background:linear-gradient(135deg,#0098EA,#00B4D8);color:#fff;transition:all .2s}
.btn-ton:active{transform:scale(.95)}

/* VIP Items */
.vip-items-list{display:flex;flex-direction:column;gap:8px}
.vip-item-card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;align-items:center;justify-content:space-between;gap:10px}
.vip-item-left{display:flex;align-items:center;gap:10px;flex:1;min-width:0}
.vip-item-emoji{font-size:1.5rem;width:36px;text-align:center;flex-shrink:0}
.vip-item-info{flex:1;min-width:0}
.vip-item-name{font-weight:700;font-size:.85rem}
.vip-item-desc{font-size:.68rem;color:var(--text2);margin-top:2px}
.vip-item-bonus{font-size:.68rem;color:var(--gold);margin-top:2px}
.vip-item-action{flex-shrink:0}
.vip-item-owned{font-size:.7rem;color:var(--green);font-weight:700;padding:4px 10px;background:rgba(46,204,113,.15);border-radius:6px}
.vip-item-locked{font-size:.7rem;color:var(--muted);font-weight:600}
.btn-vip-claim{padding:6px 12px;border:none;border-radius:6px;font-size:.75rem;font-weight:600;cursor:pointer;background:var(--gold);color:#000}
.btn-vip-claim:active{transform:scale(.95)}
